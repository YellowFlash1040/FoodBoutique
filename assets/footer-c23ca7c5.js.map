{"version":3,"file":"footer-c23ca7c5.js","sources":["../../src/js/partials/cart.js","../../src/js/partials/requests.js","../../../../../../../images/svg/icons.svg","../../src/js/footer-modal-window.js","../../src/js/footer-error-modal-window.js","../../src/js/footer.js"],"sourcesContent":["if (!getInCart()) setInCart();\n\nexport function getInCart() {\n  return JSON.parse(localStorage.getItem(\"in-cart\"));\n}\n\nexport function setInCart(inCart = []) {\n  localStorage.setItem(\"in-cart\", JSON.stringify(inCart));\n}\n\nexport function addToCart(id) {\n  const inCart = getInCart();\n  if (!inCart.includes(id)) setInCart([...inCart, id]);\n}\n\nexport function clearCart() {\n  setInCart([]);\n}\n\nexport function deleteFromCart(id) {\n  const inCart = getInCart();\n  setInCart(inCart.filter(itemId => itemId !== id));\n}\n\nexport function showCartAmount() {\n  const quantitySpan = document.getElementById(\"cart-quantity\");\n  if (quantitySpan) quantitySpan.innerText = `cart (${getInCart().length})`;\n\n  const quantityTitle = document.getElementById(\"cart-quantity-title\");\n  if (quantityTitle) quantityTitle.innerText = `cart (${getInCart().length})`;\n}\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://food-boutique.b.goit.study/api/\";\n\nexport function getProducts(filters) {\n  return axios.get(\"products\", {\n    params: filters,\n  });\n}\n\nexport async function getCategories() {\n  const res = await axios.get(\"products/categories\");\n  return res.data;\n}\n\nexport async function getItem(id) {\n  const res = await axios.get(`products/${id}`);\n  return res.data;\n}\n","export default \"__VITE_PUBLIC_ASSET__df5b4cb5__\"","const mobileImagePath = \"/images/png/vegetables-basket-phone.png\";\nconst mobileImagePath_2x = \"/images/png/vegetables-basket-phone@2x.png\";\nconst tabletImagePath = \"/images/png/vegetables-basket-tablet.png\";\nconst tabletImagePath_2x = \"/images/png/vegetables-basket-tablet@2x.png\";\nconst imageAlt = \"\";\nconst closeModalWindowIconPath = \"/images/svg/icons.svg#icon-close\";\n\nexport function createMarkup()\n{\n    return `\n    <div class=\"footer-modal-window\">\n        <p class=\"title\">Thanks for subscribing for <span class=\"title-span\">new</span> products</p>\n        <p class=\"message\">We promise you organic and high-quality products that will meet your expectations. Please stay with us and we promise you many pleasant surprises.</p>\n\n        \n        <picture>\n            <source srcset=\"${mobileImagePath}, ${mobileImagePath_2x} 2x\">\n\n            <source media=\"(min-width: 768px)\" srcset=\"${tabletImagePath}, ${tabletImagePath_2x} 2x\">\n  \n            <img class=\"image\" src=\"${mobileImagePath}\" alt=\"${imageAlt}\" width=\"335\" height=\"144\"/>\n        </picture>\n\n        <svg class=\"close-icon\" width=\"22\" height=\"22\">\n            <use href=\"${closeModalWindowIconPath}\"></use>\n        </svg>\n    </div>\n    `;\n}","const closeModalWindowIconPath = \"/images/svg/icons.svg#icon-close\";\n\nexport function createMarkup()\n{\n    return `\n    <div class=\"footer-error-modal-window\">\n        <p class=\"title\">This <span class=\"title-span\">email address</span> has already been entered</p>\n        <p class=\"message\">You have already subscribed to our new products. Watch for offers at the mailing address.</p>\n\n        <svg class=\"close-icon\" width=\"22\" height=\"22\">\n            <use href=\"${closeModalWindowIconPath}\"></use>\n        </svg>\n    </div>\n    `;\n}","import axios from \"axios\";\nimport * as footerModalWindow from \"./footer-modal-window.js\";\nimport * as footerErrorModalWindow from \"./footer-error-modal-window.js\";\n\nconst subscribe_form = document.querySelector(\"form.subscribe-form\");\nsubscribe_form.addEventListener(\"submit\", form_Submit);\n\nlet modalWindow;\n\nasync function form_Submit(event)\n{\n    event.preventDefault();\n\n    const input = document.querySelector(\"input.subscribe-form-email-field\");\n    const user_email_object =\n    {\n        email: input.value\n    }\n    subscribe_form.reset();\n\n    const result = await sendEmailToBackEnd(user_email_object);\n\n    let markup;\n    let closeModalWindowButton_Selector;\n    if (result === 201)\n    {\n        markup = footerModalWindow.createMarkup();\n        closeModalWindowButton_Selector = \".footer-modal-window .close-icon\";\n    }\n    else\n    {\n        markup = footerErrorModalWindow.createMarkup();\n        closeModalWindowButton_Selector = \".footer-error-modal-window .close-icon\";\n    }\n\n    modalWindow = basicLightbox.create(markup);\n    modalWindow.show();\n\n    const closeModalWindowButton = document.querySelector(closeModalWindowButton_Selector);\n    closeModalWindowButton.addEventListener(\"click\", modalWindow.close);\n    document.addEventListener(\"keydown\", closeLightBox);\n}\n\nfunction closeLightBox(event)\n{\n    if (event.key === 'Escape')\n    {\n        modalWindow.close();\n        document.removeEventListener(\"keydown\", closeLightBox);\n    }\n}\n\nasync function sendEmailToBackEnd(data)\n{\n    const url = \"https://food-boutique.b.goit.study/api/subscription\";\n    try\n    {\n        const response = await axios.post(url, data);\n        return response.status;\n    }\n    catch (error)\n    {\n        return error.response.status;\n    }\n}"],"names":["getInCart","setInCart","inCart","addToCart","id","clearCart","deleteFromCart","itemId","showCartAmount","quantitySpan","quantityTitle","axios","getProducts","filters","getCategories","getItem","icons","mobileImagePath","mobileImagePath_2x","tabletImagePath","tabletImagePath_2x","imageAlt","closeModalWindowIconPath","createMarkup","subscribe_form","form_Submit","modalWindow","event","user_email_object","result","sendEmailToBackEnd","markup","closeModalWindowButton_Selector","footerModalWindow.createMarkup","footerErrorModalWindow.createMarkup","closeLightBox","data","url","error"],"mappings":"0uBAAKA,EAAS,GAAIC,IAEX,SAASD,GAAY,CAC1B,OAAO,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,CACnD,CAEO,SAASC,EAAUC,EAAS,GAAI,CACrC,aAAa,QAAQ,UAAW,KAAK,UAAUA,CAAM,CAAC,CACxD,CAEO,SAASC,EAAUC,EAAI,CAC5B,MAAMF,EAASF,IACVE,EAAO,SAASE,CAAE,GAAGH,EAAU,CAAC,GAAGC,EAAQE,CAAE,CAAC,CACrD,CAEO,SAASC,GAAY,CAC1BJ,EAAU,CAAE,CAAA,CACd,CAEO,SAASK,EAAeF,EAAI,CACjC,MAAMF,EAASF,IACfC,EAAUC,EAAO,OAAOK,GAAUA,IAAWH,CAAE,CAAC,CAClD,CAEO,SAASI,GAAiB,CAC/B,MAAMC,EAAe,SAAS,eAAe,eAAe,EACxDA,IAAcA,EAAa,UAAY,SAAST,EAAW,EAAC,MAAM,KAEtE,MAAMU,EAAgB,SAAS,eAAe,qBAAqB,EAC/DA,IAAeA,EAAc,UAAY,SAASV,EAAW,EAAC,MAAM,IAC1E,CC5BAW,EAAM,SAAS,QAAU,0CAElB,SAASC,EAAYC,EAAS,CACnC,OAAOF,EAAM,IAAI,WAAY,CAC3B,OAAQE,CACZ,CAAG,CACH,CAEO,eAAeC,GAAgB,CAEpC,OADY,MAAMH,EAAM,IAAI,qBAAqB,GACtC,IACb,CAEO,eAAeI,EAAQX,EAAI,CAEhC,OADY,MAAMO,EAAM,IAAI,YAAYP,CAAE,EAAE,GACjC,IACb,CClBA,MAAeY,EAAA,qCCATC,EAAkB,0CAClBC,EAAqB,6CACrBC,EAAkB,2CAClBC,EAAqB,8CACrBC,EAAW,GACXC,EAA2B,mCAE1B,SAASC,GAChB,CACI,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAOmBN,CAAe,KAAKC,CAAkB;AAAA;AAAA,yDAEXC,CAAe,KAAKC,CAAkB;AAAA;AAAA,sCAEzDH,CAAe,UAAUI,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAI9CC,CAAwB;AAAA;AAAA;AAAA,KAIjD,CC5BA,MAAMA,EAA2B,mCAE1B,SAASC,GAChB,CACI,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAMcD,CAAwB;AAAA;AAAA;AAAA,KAIjD,CCVA,MAAME,EAAiB,SAAS,cAAc,qBAAqB,EACnEA,EAAe,iBAAiB,SAAUC,CAAW,EAErD,IAAIC,EAEJ,eAAeD,EAAYE,EAC3B,CACIA,EAAM,eAAc,EAGpB,MAAMC,EACN,CACI,MAHU,SAAS,cAAc,kCAAkC,EAGtD,KAChB,EACDJ,EAAe,MAAK,EAEpB,MAAMK,EAAS,MAAMC,EAAmBF,CAAiB,EAEzD,IAAIG,EACAC,EACAH,IAAW,KAEXE,EAASE,EAA8B,EACvCD,EAAkC,qCAIlCD,EAASG,EAAmC,EAC5CF,EAAkC,0CAGtCN,EAAc,cAAc,OAAOK,CAAM,EACzCL,EAAY,KAAI,EAEe,SAAS,cAAcM,CAA+B,EAC9D,iBAAiB,QAASN,EAAY,KAAK,EAClE,SAAS,iBAAiB,UAAWS,CAAa,CACtD,CAEA,SAASA,EAAcR,EACvB,CACQA,EAAM,MAAQ,WAEdD,EAAY,MAAK,EACjB,SAAS,oBAAoB,UAAWS,CAAa,EAE7D,CAEA,eAAeL,EAAmBM,EAClC,CACI,MAAMC,EAAM,sDACZ,GACA,CAEI,OADiB,MAAM1B,EAAM,KAAK0B,EAAKD,CAAI,GAC3B,MACnB,OACME,EACP,CACI,OAAOA,EAAM,SAAS,MACzB,CACL"}