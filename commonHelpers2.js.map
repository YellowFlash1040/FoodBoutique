{"version":3,"file":"commonHelpers2.js","sources":["../src/js/partials/categories.js","../src/js/partials/filters.js","../src/js/detailed-product-info-modal-window.js","../src/js/partials/products.js","../src/js/partials/pages.js","../src/js/index.js","../src/js/partials/event-listeners.js","../src/js/popular-products.js","../src/js/discount-products.js"],"sourcesContent":["const categoriesList = document.getElementById(\"categories\");\n\nimport { getCategories } from \"./requests\";\n\nexport async function fillCategories() {\n  const categories = await getCategories();\n  createCategories(categories);\n}\n\nfunction createCategories(categories) {\n  const options = [];\n\n  for (const category of categories) {\n    const li = document.createElement(\"li\");\n    li.className = \"categories-item\";\n    li.value = category;\n\n    const btn = document.createElement(\"button\");\n    btn.type = \"button\";\n    btn.className = \"categories-btn\";\n    btn.setAttribute(\"data-value\", category);\n    btn.innerText = category.replaceAll(\"_\", \" \");\n\n    li.appendChild(btn);\n\n    options.push(li);\n  }\n\n  categoriesList.append(...options);\n\n  categoriesList.innerHTML += `\n    <li class=\"categories-item\">\n      <button class=\"categories-btn\" data-value=\"\">\n        Show all\n      </button>\n    </li>\n  `;\n}\n","const keywordInput = document.getElementById(\"keyword-input\");\nconst categorySelect = document.getElementById(\"category-select\");\n\nconst filters = getFilters();\nif (!filters) {\n  setFilters({\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 6,\n  });\n} else {\n  keywordInput.value = filters.keyword;\n\n  if (filters.category) {\n    categorySelect.options[0].innerText = filters.category.replaceAll(\"_\", \" \");\n  } else categorySelect.options[0].innerText = \"Show all\";\n}\n\nexport function setFilters(filters) {\n  localStorage.setItem(\"filters\", JSON.stringify(filters));\n}\n\nexport function getFilters() {\n  return JSON.parse(localStorage.getItem(\"filters\"));\n}\n","import axios from \"axios\";\nimport * as page from \"./partials/cart.js\";\nimport icons from \"/images/svg/icons.svg\";\n\nconst cartIconPath = `${icons}#icon-shopping-cart`;\nconst closeModalWindowIconPath = `${icons}#icon-close`;\n\nlet modalWindow;\n\nexport async function create(productId)\n{\n    const product = await getProductById(productId);\n    const markup = createMarkup(product, productId);\n    createModalWindow(markup);\n}\n\nfunction createModalWindow(markup)\n{\n    const options =\n    {\n        onClose: enablePageScroll\n    };\n    modalWindow = basicLightbox.create(markup, options);\n    document.addEventListener(\"keydown\", closeLightBox);\n}\n\nfunction closeLightBox(event)\n{\n    if (event.key === 'Escape')\n    {\n        modalWindow.close();\n        document.removeEventListener(\"keydown\", closeLightBox);\n    }\n}\n\nfunction isAddedToCart(id)\n{\n  return page.getInCart().includes(id);\n}\n\nfunction addToCart(event)\n{\n    const id = event.currentTarget.dataset.id;\n    if (!isAddedToCart(id))\n    {\n        page.addToCart(id);\n        page.showCartAmount();\n        changeTextOnButton();\n    }\n    else\n    {\n        page.deleteFromCart(id);\n        page.showCartAmount();\n        changeTextOnButtonBack();\n    }\n}\n\nlet addToCartButton;\n\nfunction changeTextOnButton()\n{\n    const insideSpan = addToCartButton.querySelector('span');\n    insideSpan.textContent = \"Remove from\";\n}\n\nfunction changeTextOnButtonBack()\n{\n    const insideSpan = addToCartButton.querySelector('span');\n    insideSpan.textContent = \"Add to\";\n}\n\nfunction createMarkup({ name, category, size, popularity, desc: description, price, img }, productId)\n{\n    category = category.replace(/_/g, ' ');\n\n    let addToCartButtonText;\n    if (page.getInCart().includes(productId))\n    {\n        addToCartButtonText = \"Remove from\";\n    }\n    else\n    {\n        addToCartButtonText = \"Add to\";\n    }\n    \n    return `\n    <div class=\"detailed-product-info-modal-window\">\n\n        <div class=\"image-container\">\n            <img class=\"image\" src=\"${img}\" alt=\"${name}\" width=\"160\" height=\"160\"/>\n        </div>\n\n        <div class=\"product-info-container\">\n        <p class=\"productName\">${name}</p>\n\n        <ul class=\"product-characteristics-list\">\n            <li class=\"product-characteristic\"><span class=\"span\">Category:</span> ${category}</li>\n            <li class=\"product-characteristic\"><span class=\"span\">Size:</span> ${size}</li>\n            <li class=\"product-characteristic\"><span class=\"span\">Popularity:</span> ${popularity}</li>\n        </ul>\n\n        <p class=\"product-description\">${description}</p>\n        </div>\n\n        <div class=\"cart-price-panel-container\">\n            <p class=\"product-price\">$${price}</p>\n            <button class=\"addToCart-button\" type=\"button\" data-id=\"${productId}\">\n                <span>${addToCartButtonText}</span>\n                <svg class=\"cart-icon\" width=\"18\" height=\"18\">\n                    <use href=\"${cartIconPath}\"></use>\n                </svg>\n            </button>\n        </div>\n\n        <svg class=\"close-icon\" width=\"22\" height=\"22\">\n            <use href=\"${closeModalWindowIconPath}\"></use>\n        </svg>\n    </div>\n    `;\n}\n\nasync function getProductById(id)\n{\n    const url = `https://food-boutique.b.goit.study/api/products/${id}`;\n    const response = await axios.get(url);\n    return response.data;\n}\n\nexport function show()\n{\n    modalWindow.show();\n\n    const scrollLockMethod = 'disableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n\n    const closeModalWindowButton_Selector = \".detailed-product-info-modal-window .close-icon\";\n    const closeModalWindowButton = document.querySelector(closeModalWindowButton_Selector);\n    closeModalWindowButton.addEventListener(\"click\", modalWindow.close);\n\n    addToCartButton = document.querySelector(\".detailed-product-info-modal-window .addToCart-button\");\n    addToCartButton.addEventListener(\"click\", addToCart);\n}\n\nfunction enablePageScroll()\n{\n    const scrollLockMethod = 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n}","// Filters Section\nconst keywordInput = document.getElementById(\"keyword-input\")\n\n// Products List Section\nconst productsList = document.getElementById(\"products\")\nconst pagesPanel = document.getElementById(\"pages-panel\")\nconst previousBtn = document.getElementById(\"previous\")\nconst nextBtn = document.getElementById(\"next\")\nconst nothingFound = document.getElementById(\"nothing-found\")\n\nimport { getFilters, setFilters } from \"./filters\"\nimport { deleteFromCart, getInCart } from \"./cart\"\nimport {\n  disableNextBtn,\n  disablePreviousBtn,\n  enableNextBtn,\n  enablePreviousBtn,\n  getTotalPages,\n  setTotalPages,\n} from \"./pages\"\nimport { fillPagesList } from \"./pages\"\nimport { addToCart, showCartAmount } from \"./cart\"\nimport { getProducts } from \"./requests\"\nimport { create, show } from \"../detailed-product-info-modal-window\"\n\nimport icons from \"/images/svg/icons.svg\"\n\nexport async function fillProductsList() {\n  const filters = getFilters()\n\n  const categorySelect = document.getElementById(\"category-select\")\n  if (filters.category) {\n    categorySelect.options[0].innerText = filters.category.replaceAll(\"_\", \" \")\n  } else categorySelect.options[0].innerText = \"Show all\"\n\n  const hits = await searchProducts(filters)\n\n  // If nothing is found show nothing found div\n  if (hits.length > 0) {\n    hideNothingFound()\n    createCardsForProductsList(hits)\n  } else showNothingFound()\n\n  // change buttons state depending on the opened page\n  if (filters.page === 1) disablePreviousBtn()\n  else enablePreviousBtn()\n  if (filters.page === getTotalPages()) disableNextBtn()\n  else enableNextBtn()\n\n  // fill pages list if there's more than one page\n  if (getTotalPages() <= 1) pagesPanel.classList.add(\"display-none\")\n  else {\n    pagesPanel.classList.remove(\"display-none\")\n    fillPagesList(filters)\n  }\n}\n\nasync function searchProducts(filters) {\n  const res = await getProducts(filters)\n  setTotalPages(res.data.totalPages)\n  const hits = res.data.results\n  return hits\n}\n\nfunction hideNothingFound() {\n  nothingFound.classList.add(\"display-none\")\n\n  previousBtn.classList.remove(\"display-none\")\n  nextBtn.classList.remove(\"display-none\")\n}\n\nfunction showNothingFound() {\n  productsList.innerHTML = \"\"\n\n  nothingFound.classList.remove(\"display-none\")\n\n  previousBtn.classList.add(\"display-none\")\n  nextBtn.classList.add(\"display-none\")\n}\n\nexport function getAndShowProducts() {\n  const keyword = keywordInput.value.trim()\n\n  setFilters({ ...getFilters(), keyword, page: 1 })\n\n  fillProductsList()\n}\n\nfunction createCardsForProductsList(hits) {\n  const items = []\n\n  for (const hit of hits) {\n    const li = document.createElement(\"li\")\n    li.className = \"products-item\"\n    li.setAttribute(\"data-product-id\", hit._id)\n\n    let dataProductId = `data-product-id=\"${hit._id}\"`\n    let svgUrl = icons + \"#icon-shopping-cart\"\n    let stroke = \"\"\n\n    if (getInCart().includes(hit._id)) {\n      dataProductId = \"\"\n      svgUrl = icons + \"#icon-check\"\n      stroke = \"stroke\"\n    }\n\n    li.innerHTML = `\n      <div class=\"card-img-container\">\n        <img class=\"prodact-img\" src=\"${hit.img}\" alt=\"${hit.name}\" />\n      </div>\n      <h3 class=\"product-title\">${hit.name}</h3>\n      <div class=\"properties-and-price-continer\">\n        <ul class=\"product-properties-list\">\n          <li class=\"product-properties-item\">\n            Category:\n            <span class=\"property-value\">${hit.category.replaceAll(\n              \"_\",\n              \" \"\n            )}</span>\n          </li>\n          <li class=\"product-properties-item\">\n            Size: <span class=\"property-value\">${hit.size}</span>\n          </li>\n          <li class=\"product-properties-item\">\n            Popularity: <span class=\"property-value\">${hit.popularity}</span>\n          </li>\n        </ul>\n\n        <div class=\"price-and-buy-btn\">\n          <span class=\"price\">$${hit.price}</span>\n          <button class=\"circle-btn cart-btn product ${stroke}\" type=\"button\" ${dataProductId}>\n            <svg class=\"btn-svg product\">\n              <use href=\"${svgUrl}\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    `\n\n    items.push(li)\n  }\n\n  productsList.innerHTML = \"\"\n  productsList.append(...items)\n\n  const btns = document.querySelectorAll(\"button[data-product-id]\")\n\n  for (const btn of btns) {\n    btn.addEventListener(\"click\", toCartClick)\n  }\n\n  function toCartClick(evt) {\n    const btn = evt.currentTarget\n    const id = btn.getAttribute(\"data-product-id\")\n    if (!isAddedToCart(id)) {\n      addToCart(id)\n      showCartAmount()\n      btn.innerHTML = `\n        <svg class=\"btn-svg product\">\n          <use href=\"${icons}#icon-check\"></use>\n        </svg>\n      `\n      btn.classList.add(\"stroke\")\n    } else {\n      deleteFromCart(id)\n      showCartAmount()\n      btn.innerHTML = `\n        <svg class=\"btn-svg product\">\n          <use href=\"${icons}#icon-shopping-cart\"></use>\n        </svg>\n      `\n      btn.classList.remove(\"stroke\")\n    }\n  }\n\n  function isAddedToCart(id) {\n    return getInCart().includes(id)\n  }\n\n  const productsItem = document.querySelectorAll(\"li.products-item\")\n\n  for (const item of productsItem) {\n    item.addEventListener(\"click\", evt => {\n      const name = evt.target.nodeName.toLowerCase()\n      if (name === \"button\" || name === \"svg\" || name === \"use\") return\n\n      create(item.getAttribute(\"data-product-id\")).then(() => {\n        show()\n      })\n    })\n  }\n}\n","const toTheStartBtn = document.getElementById(\"to-the-start\");\nconst previousBtn = document.getElementById(\"previous\");\nconst pagesList = document.getElementById(\"pages-list\");\nconst nextBtn = document.getElementById(\"next\");\nconst toTheEnd = document.getElementById(\"to-the-end\");\n\nimport { setFilters, getFilters } from \"./filters\";\nimport { fillProductsList } from \"./products\";\n\nlet totalPages = null;\nlet pagesMax = null;\nlet firstPage = 1;\n\nexport function setFirstPage(page) {\n  firstPage = page;\n}\n\nexport function getTotalPages() {\n  return totalPages;\n}\n\nexport function setTotalPages(pages) {\n  totalPages = pages;\n}\n\nexport function fillPagesList(filters) {\n  const numbers = [];\n\n  const btnsAmount = Math.min(getTotalPages(), pagesMax);\n\n  // If selected index is grater than last button change first page\n  const indexOfLastButton = btnsAmount + firstPage - 1;\n  const distanceBetweenLastBtnAndSelectedIndex =\n    filters.page - indexOfLastButton;\n  if (distanceBetweenLastBtnAndSelectedIndex > 0)\n    firstPage += distanceBetweenLastBtnAndSelectedIndex;\n\n  for (let i = firstPage; i < btnsAmount + firstPage; i++) {\n    const li = document.createElement(\"li\");\n    li.className = \"pages-item\";\n\n    const btn = document.createElement(\"button\");\n    btn.type = \"button\";\n    btn.className =\n      \"circle-btn number-btn \" + (filters.page === i ? \"current\" : \"\");\n    btn.innerHTML = i;\n    btn.addEventListener(\"click\", goToPage);\n\n    function goToPage() {\n      setFilters({ ...filters, page: i });\n      fillProductsList();\n    }\n\n    li.appendChild(btn);\n\n    numbers.push(li);\n  }\n\n  pagesList.innerHTML = \"\";\n  pagesList.append(...numbers);\n}\n\nexport function disablePreviousBtn() {\n  toTheStartBtn.classList.add(\"disabled\");\n  previousBtn.classList.add(\"disabled\");\n  previousBtn.removeEventListener(\"click\", goToPreviousPage);\n  toTheStartBtn.removeEventListener(\"click\", goToFirstPage);\n}\n\nexport function enablePreviousBtn() {\n  toTheStartBtn.classList.remove(\"disabled\");\n  previousBtn.classList.remove(\"disabled\");\n  previousBtn.addEventListener(\"click\", goToPreviousPage);\n  toTheStartBtn.addEventListener(\"click\", goToFirstPage);\n}\n\nexport function disableNextBtn() {\n  toTheEnd.classList.add(\"disabled\");\n  nextBtn.classList.add(\"disabled\");\n  nextBtn.removeEventListener(\"click\", goToNextPage);\n  toTheEnd.removeEventListener(\"click\", goToLastPage);\n}\n\nexport function enableNextBtn() {\n  toTheEnd.classList.remove(\"disabled\");\n  nextBtn.classList.remove(\"disabled\");\n  nextBtn.addEventListener(\"click\", goToNextPage);\n  toTheEnd.addEventListener(\"click\", goToLastPage);\n}\n\nfunction goToPreviousPage() {\n  const currentFilters = getFilters();\n\n  currentFilters.page--;\n  setFilters(currentFilters);\n\n  if (firstPage - 1 === currentFilters.page) {\n    firstPage--;\n  }\n\n  if (currentFilters.page === 1) disablePreviousBtn();\n\n  fillProductsList();\n}\n\nfunction goToNextPage() {\n  const currentFilters = getFilters();\n\n  currentFilters.page++;\n  setFilters(currentFilters);\n\n  const btnsAmount = Math.min(getTotalPages(), pagesMax);\n  if (firstPage + btnsAmount === currentFilters.page) {\n    firstPage++;\n  }\n\n  if (currentFilters.page === getTotalPages()) disableNextBtn();\n\n  fillProductsList();\n}\n\nfunction goToFirstPage() {\n  const currentFilters = getFilters();\n\n  currentFilters.page = 1;\n  setFilters(currentFilters);\n\n  firstPage = 1;\n\n  fillProductsList();\n}\n\nfunction goToLastPage() {\n  const currentFilters = getFilters();\n\n  currentFilters.page = getTotalPages();\n  setFilters(currentFilters);\n\n  const btnsAmount = Math.min(getTotalPages(), pagesMax);\n  firstPage = currentFilters.page - btnsAmount + 1;\n\n  fillProductsList();\n}\n\nexport function setParamsBasedOnScreenSize() {\n  let windowWidth = window.innerWidth;\n\n  if (windowWidth >= 1440) {\n    setFilters({ ...getFilters(), limit: 9 });\n    pagesMax = 5;\n  } else if (windowWidth >= 768) {\n    setFilters({ ...getFilters(), limit: 8 });\n    pagesMax = 5;\n  } else {\n    setFilters({ ...getFilters(), limit: 6 });\n    pagesMax = 3;\n  }\n\n  fillProductsList();\n}\n","import { fillCategories } from \"./partials/categories\";\nimport { setParamsBasedOnScreenSize } from \"./partials/pages\";\nimport { showCartAmount } from \"./partials/cart\";\n\nshowCartAmount();\n\nfillCategories().then(() => {\n  setParamsBasedOnScreenSize();\n});\n","const form = document.getElementById(\"filters-form\");\nconst categorySelect = document.getElementById(\"category-select\");\nconst categoriesList = document.getElementById(\"categories\");\n\nimport { getAndShowProducts } from \"./products\";\nimport { getFilters, setFilters } from \"./filters\";\nimport { setParamsBasedOnScreenSize } from \"./pages\";\nimport { setFirstPage } from \"./pages\";\n\n// submit\nform.addEventListener(\"submit\", handleForm);\n// change\nform.addEventListener(\"input\", handleForm);\n\nasync function handleForm(evt) {\n  evt.preventDefault();\n  setFirstPage(1);\n  getAndShowProducts();\n}\n\ncategorySelect.addEventListener(\"mousedown\", onSelectClick);\n\nfunction onSelectClick(evt) {\n  evt.preventDefault();\n  categoriesList.classList.toggle(\"display-none\");\n}\n\ncategoriesList.addEventListener(\"click\", onCategorySelect);\n\nfunction onCategorySelect(evt) {\n  const target = evt.target;\n\n  if (target.nodeName.toLowerCase() === \"button\") {\n    setFilters({\n      ...getFilters(),\n      category: target.getAttribute(\"data-value\"),\n    });\n    categoriesList.classList.add(\"display-none\");\n    getAndShowProducts();\n  }\n}\n\nlet timerId = null;\n\nwindow.addEventListener(\"resize\", onResize);\n\nfunction onResize() {\n  clearTimeout(timerId);\n  timerId = setTimeout(() => {\n    setParamsBasedOnScreenSize();\n  }, 100);\n}\n","import axios from \"axios\";\nimport * as productInfoModalWindow from \"./detailed-product-info-modal-window.js\";\nimport * as page from \"./partials/cart.js\";\nimport icons from \"/images/svg/icons.svg\";\n\nconst popularProducts = document.querySelector(\"ul.popular-products-list\");\n\nfillPopularProducts();\npopularProducts.addEventListener(\"click\", productClick);\n\nasync function productClick(event)\n{\n    let clickedElement = event.target;\n    \n    const name = clickedElement.nodeName.toLowerCase();\n    const addToCartButton = clickedElement;\n\n    while (clickedElement && !clickedElement.classList.contains('popular-products-list-item'))\n    {\n        clickedElement = clickedElement.parentElement;\n    }\n\n    const id = clickedElement.dataset.id;\n\n    if (name === \"button\" || name === \"svg\" || name === \"use\")\n    {\n        if (!isAddedToCart(id))\n        {\n            page.addToCart(id);\n            page.showCartAmount();\n            changeButtonIcon(addToCartButton);\n        }\n        else\n        {\n            page.deleteFromCart(id);\n            page.showCartAmount();\n            changeButtonIconBack(addToCartButton);\n        }\n    }\n    else\n    {\n        await productInfoModalWindow.create(id);\n        productInfoModalWindow.show();\n    }\n}\n\nfunction isAddedToCart(id)\n{\n  return page.getInCart().includes(id);\n}\n\nconst checkedIconPath = `${icons}#icon-check`;\nconst cartButtonSelector = \"popular-product-shopping-cart-button\";\n\nfunction changeButtonIcon(clickedElement)\n{\n    while (clickedElement && !clickedElement.classList.contains(cartButtonSelector))\n    {\n        clickedElement = clickedElement.parentElement;\n    }\n\n    clickedElement.classList.remove('svg-fill-container');\n    clickedElement.classList.add('svg-stroke-container');\n\n    const buttonIcon = clickedElement.firstElementChild.firstElementChild;\n    buttonIcon.setAttribute('href', checkedIconPath);\n}\n\nconst cartIconPath = `${icons}#icon-shopping-cart`;\n\nexport function changeButtonIconBack(clickedElement)\n{\n  while (clickedElement && !clickedElement.classList.contains(cartButtonSelector))\n  {\n    clickedElement = clickedElement.parentElement;\n  }\n\n  clickedElement.classList.remove('svg-stroke-container');\n  clickedElement.classList.add('svg-fill-container');\n\n  const buttonIcon = clickedElement.firstElementChild.firstElementChild;\n  buttonIcon.setAttribute('href', cartIconPath);\n}\n\nasync function fillPopularProducts()\n{\n    const products = await getPopularProducts();\n    const markup = createPopularProductsMarkup(products);\n    addPopularProductsMarkupToThePage(markup);\n}\n\nfunction addPopularProductsMarkupToThePage(markup)\n{\n    popularProducts.innerHTML = markup;\n}\n\nasync function getPopularProducts()\n{\n    const url = \"https://food-boutique.b.goit.study/api/products/popular\";\n    try\n    {\n        const response = await axios.get(url);\n        return response.data;\n    }\n    catch (error)\n    {\n        console.log(error.message);\n    }\n}\n\nfunction createPopularProductsMarkup(products)\n{\n    const markup = products.map(product => createProductItemMarkup(product)).join(\"\");\n\n    return markup;\n}\n\nfunction createProductItemMarkup(product)\n{\n    const image =\n    {\n        src: product.img,\n        alt: product.name\n    };\n\n    const info =\n    {\n        name: product.name,\n        category: product.category,\n        size: product.size,\n        popularity: product.popularity\n    };\n\n    return `<li class=\"popular-products-list-item\" data-id=\"${product._id}\">\n    ${createProductImageMarkup(image)}\n    ${createProductInfoMarkup(info)}\n    ${createAddToCardButton(product._id)}\n    </li>`;\n}\n\nfunction createProductImageMarkup({src, alt})\n{\n    return `<div class=\"popular-product-image-container\">\n    <img src=\"${src}\" alt=\"${alt}\" width=\"56\" height=\"56\" />\n    </div>`;\n}\n\nfunction createProductInfoMarkup({ name, category, size, popularity })\n{\n    category = category.replace(/_/g, ' ');\n\n    return `<div class=\"popular-product-info-container\">\n    <p class=\"popular-product-title\">${name}</p>\n    <ul class=\"popular-product-characteristics-list\">\n        <li class=\"popular-product-characteristic\">\n        Category:\n        <span class=\"popular-product-characteristic-value\">${category}</span>\n        </li>\n        <li class=\"popular-product-characteristic\">\n        Size:\n        <span class=\"popular-product-characteristic-value\">${size}</span>\n        </li>\n        <li class=\"popular-product-characteristic\">\n        Popularity:\n        <span class=\"popular-product-characteristic-value\">${popularity}</span>\n        </li>\n    </ul>\n    </div>`;\n}\n\nconst shoppingCartIconPath = `${icons}#icon-shopping-cart`;\n\nfunction createAddToCardButton(id)\n{\n    let iconPath;\n    let iconClass;\n    if (page.getInCart().includes(id))\n    {\n        iconPath = checkedIconPath;\n        iconClass = \"svg-stroke-container\";\n    }\n    else\n    {\n        iconPath = shoppingCartIconPath;\n        iconClass = \"svg-fill-container\";\n    }\n\n    return `<button class=\"popular-product-shopping-cart-button ${iconClass}\" type=\"button\">\n        <svg class=\"popular-product-shopping-cart-icon\" width=\"12\" height=\"12\">\n        <use href=\"${iconPath}\"></use>\n        </svg>\n    </button>`;\n}","import axios from \"axios\";\nimport * as productInfoModalWindow from \"./detailed-product-info-modal-window\";\nimport * as page from \"./partials/cart.js\";\nimport icons from \"/images/svg/icons.svg\";\n\nconst countOfProductsToLoad = 2;\n\nconst discountProducts = document.querySelector(\"ul.discount-products-list\");\n\nfillDiscountProducts();\n\ndiscountProducts.addEventListener(\"click\", productClick);\n\nasync function productClick(event)\n{\n  let clickedElement = event.target;\n\n  const name = clickedElement.nodeName.toLowerCase();\n  const addToCartButton = clickedElement;\n\n  while (clickedElement && !clickedElement.classList.contains('discount-products-list-item'))\n  {\n    clickedElement = clickedElement.parentElement;\n  }\n\n  const id = clickedElement.dataset.id;\n\n  if (name === \"button\" || name === \"svg\" && event.target.parentElement.nodeName.toLowerCase() === \"button\" || name === \"use\" && event.target.parentElement.nodeName.toLowerCase() === \"button\")\n  {\n    if (!isAddedToCart(id))\n    {\n      page.addToCart(id);\n      page.showCartAmount();\n      changeButtonIcon(addToCartButton);\n    }\n    else\n    {\n      page.deleteFromCart(id);\n      page.showCartAmount();\n      changeButtonIconBack(addToCartButton);\n    }\n  }\n  else\n  {\n    await productInfoModalWindow.create(id);\n    productInfoModalWindow.show();\n  }\n}\n\nfunction isAddedToCart(id)\n{\n  return page.getInCart().includes(id);\n}\n\nconst checkedIconPath = `${icons}#icon-check`;\nconst cartButtonSelector = \"discount-product-shopping-cart-button\";\n\nfunction changeButtonIcon(clickedElement)\n{\n    while (clickedElement && !clickedElement.classList.contains(cartButtonSelector))\n    {\n        clickedElement = clickedElement.parentElement;\n    }\n\n    clickedElement.classList.remove('svg-fill-container');\n    clickedElement.classList.add('svg-stroke-container');\n\n    const buttonIcon = clickedElement.firstElementChild.firstElementChild;\n    buttonIcon.setAttribute('href', checkedIconPath);\n}\n\nconst cartIconPath = `${icons}#icon-shopping-cart`;\n\nfunction changeButtonIconBack(clickedElement)\n{\n  while (clickedElement && !clickedElement.classList.contains(cartButtonSelector))\n  {\n    clickedElement = clickedElement.parentElement;\n  }\n\n  clickedElement.classList.remove('svg-stroke-container');\n  clickedElement.classList.add('svg-fill-container');\n\n  const buttonIcon = clickedElement.firstElementChild.firstElementChild;\n  buttonIcon.setAttribute('href', cartIconPath);\n}\n\nasync function fillDiscountProducts()\n{\n    let products = await getDiscountProducts();\n    products = products.slice(0, countOfProductsToLoad);\n    const markup = createDiscountProductsMarkup(products);\n    addDiscountProductsMarkupToThePage(markup);\n}\n\nasync function getDiscountProducts()\n{\n    const url = \"https://food-boutique.b.goit.study/api/products/discount\";\n\n    try\n    {\n        const response = await axios.get(url);\n        return response.data;\n    }\n    catch (error)\n    {\n        console.log(error.message);\n    }\n}\n\nfunction createDiscountProductsMarkup(products)\n{\n    const markup = products.map(product => createDiscountProductItemMarkup(product)).join(\"\");\n\n    return markup;\n}\n\nfunction addDiscountProductsMarkupToThePage(markup)\n{\n    discountProducts.innerHTML = markup;\n}\n\nconst shoppingCartIconPath = `${icons}#icon-shopping-cart`;\n\nfunction createDiscountProductItemMarkup(product)\n{\n    const image =\n    {\n        src: product.img,\n        alt: product.name\n    };\n\n    const info =\n    {\n        name: product.name,\n        price: product.price\n    };\n\n    return `<li class=\"discount-products-list-item\" data-id=\"${product._id}\">\n    ${createProductImageCardMarkup(image)}\n    ${createCardBottomPanelMarkup(info, product._id)}\n    </li>`;\n}\n\nfunction createCardBottomPanelMarkup(info, id)\n{\n    return `<div class=\"discount-product-bottom-panel-container\">\n    ${createProductInfoMarkup(info)}\n    ${createAddToCardButton(id)}\n    </div>`;\n}\n\nconst discountIconPath = `${icons}#icon-discount`;\n\nfunction createProductImageCardMarkup({src, alt})\n{\n    return `<div class=\"discount-product-image-container\">\n    <img src=\"${src}\" alt=\"${alt}\" width=\"114\" height=\"114\" />\n        <div class=\"discount-icon-container\">\n            <svg class=\"discount-icon\" width=\"54\" height=\"54\">\n                <use href=\"${discountIconPath}\"></use>\n            </svg>\n        </div>\n    </div>`;\n}\n\nfunction createProductInfoMarkup({name, price})\n{\n    return `<div class=\"discount-product-info-container\">\n    <span>${name}</span>\n    <span>$${price}</span>\n    </div>`;\n}\n\nfunction createAddToCardButton(id)\n{\n    let iconPath;\n    let iconClass;\n    if (page.getInCart().includes(id))\n    {\n        iconPath = checkedIconPath;\n        iconClass = \"svg-stroke-container\";\n    }\n    else\n    {\n        iconPath = shoppingCartIconPath;\n        iconClass = \"svg-fill-container\";\n    }\n\n    return `<button class=\"discount-product-shopping-cart-button ${iconClass}\" type=\"button\">\n        <svg class=\"popular-product-shopping-cart-icon\" width=\"18\" height=\"18\">\n        <use href=\"${iconPath}\"></use>\n        </svg>\n    </button>`;\n}"],"names":["categoriesList","fillCategories","categories","getCategories","createCategories","options","category","li","btn","keywordInput","categorySelect","filters","getFilters","setFilters","cartIconPath","icons","closeModalWindowIconPath","modalWindow","create","productId","product","getProductById","markup","createMarkup","createModalWindow","enablePageScroll","closeLightBox","event","isAddedToCart","id","page.getInCart","addToCart","page.deleteFromCart","page.showCartAmount","changeTextOnButtonBack","page.addToCart","changeTextOnButton","addToCartButton","insideSpan","name","size","popularity","description","price","img","addToCartButtonText","url","axios","show","scrollLockMethod","closeModalWindowButton_Selector","productsList","pagesPanel","previousBtn","nextBtn","nothingFound","fillProductsList","hits","searchProducts","hideNothingFound","createCardsForProductsList","showNothingFound","disablePreviousBtn","enablePreviousBtn","getTotalPages","disableNextBtn","enableNextBtn","fillPagesList","res","getProducts","setTotalPages","getAndShowProducts","keyword","items","hit","dataProductId","svgUrl","stroke","getInCart","btns","toCartClick","evt","deleteFromCart","showCartAmount","productsItem","item","toTheStartBtn","pagesList","toTheEnd","totalPages","pagesMax","firstPage","setFirstPage","page","pages","numbers","btnsAmount","indexOfLastButton","distanceBetweenLastBtnAndSelectedIndex","i","goToPage","goToPreviousPage","goToFirstPage","goToNextPage","goToLastPage","currentFilters","setParamsBasedOnScreenSize","windowWidth","form","handleForm","onSelectClick","onCategorySelect","target","timerId","onResize","popularProducts","fillPopularProducts","productClick","clickedElement","changeButtonIconBack","changeButtonIcon","productInfoModalWindow.create","productInfoModalWindow.show","checkedIconPath","cartButtonSelector","products","getPopularProducts","createPopularProductsMarkup","addPopularProductsMarkupToThePage","error","createProductItemMarkup","image","info","createProductImageMarkup","createProductInfoMarkup","createAddToCardButton","src","alt","shoppingCartIconPath","iconPath","iconClass","countOfProductsToLoad","discountProducts","fillDiscountProducts","getDiscountProducts","createDiscountProductsMarkup","addDiscountProductsMarkupToThePage","createDiscountProductItemMarkup","createProductImageCardMarkup","createCardBottomPanelMarkup","discountIconPath"],"mappings":"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"}